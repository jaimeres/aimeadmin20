<div class="flex flex-wrap gap-1 align-items-center hide-sm-custom " style="padding-left: 8px; padding-top: 3px;">

  <p-button *ngIf="showNewSignal() && !openNewMenuSignal().length" icon="pi pi-plus" severity="secondary"
    (click)="newAction.emit()" pTooltip="Nuevo" tooltipPosition="bottom" [style]="{'height': '32px'}"></p-button>

  <p-splitButton *ngIf="showNewSignal() && openNewMenuSignal().length" icon="pi pi-plus" severity="secondary"
    (onClick)="newAction.emit()" pTooltip="Nuevo" tooltipPosition="bottom" [model]="openNewMenuSignal()"
    [style]="{'height': '32px'}"></p-splitButton>


  <p-button *ngIf="showRefreshSignal() && !getMenuSignal().length" icon="pi pi-refresh" severity="info"
    (click)="refreshAction.emit()" [style]="{'height': '32px'}" pTooltip="Actualizar"
    tooltipPosition="bottom"></p-button>

  <p-splitButton *ngIf="showRefreshSignal() && getMenuSignal().length" icon="pi pi-refresh" severity="info"
    (onClick)="refreshAction.emit()" pTooltip="Actualizar" tooltipPosition="bottom" [model]="getMenuSignal()"
    [style]="{'height': '32px'}"></p-splitButton>


  <button *ngIf="showEditSignal()" pButton pRipple icon="pi pi-pencil" severity="warn" (click)="editAction.emit()"
    [disabled]="disable()" pTooltip="Editar" tooltipPosition="bottom" [style]="{'height': '32px'}"></button>


  <button *ngIf="showDeleteSignal()" pButton pRipple icon="pi pi-trash" severity="danger" (click)="deleteAction.emit()"
    [disabled]="disable()" pTooltip="Eliminar" tooltipPosition="bottom" [style]="{'height': '32px'}"></button>


  <button *ngIf="showStartSignal() && !startMenuSignal()?.length" pButton pRipple icon="pi pi-bolt" severity="success"
    (click)="startAction.emit()" [disabled]="disable()" pTooltip="Iniciar" tooltipPosition="bottom"
    [style]="{'height': '32px'}"></button>

  <p-splitButton *ngIf="showStartSignal() && startMenuSignal()?.length" icon="pi pi-bolt" severity="success"
    (onClick)="startAction.emit()" pTooltip="Iniciar" tooltipPosition="bottom" [disabled]="disable()"
    [model]="startMenuSignal()" [style]="{'height': '32px'}"></p-splitButton>


  <!-- Botón compacto para móviles y tabletas (oculto en escritorio) -->
  <!-- 'Más' visible en pantallas medianas (el contenedor ya oculta extra pequeñas) -->
  <!-- Botón completo para escritorio (oculto en móviles y tabletas) -->
  <!-- 'Más opciones' solo en pantallas grandes -->
  <!-- Mostrar solo en tablet (768-1023): usamos hide-md-custom para ocultar en tablet el botón grande y hide-lg-custom para ocultar el pequeño en escritorio -->
  <p-splitButton *ngIf="moreOptionsSignal()?.length > 0" label="Más" [model]="moreOptionsSignal()" severity="help"
    outlined class="hide-lg-custom" [style]="{'height': '32px'}"></p-splitButton>

  <!-- Mostrar solo en escritorio (>=1024): ocultamos en sm y md con hide-sm-custom y hide-md-custom -->
  <p-splitButton *ngIf="moreOptionsSignal()?.length > 0" label="Más opciones" [model]="moreOptionsSignal()" outlined
    severity="help" class="hide-md-custom" [style]="{'height': '32px'}"></p-splitButton>
</div>


<p-speeddial [model]="items()" direction="right" class="hide-lg-custom hide-md-custom "
  [style]="{'padding-left': '10px', 'padding-top': '1px'}" [showIcon]="'pi pi-bars'" [hideIcon]="'pi pi-times'" />

<!-- Menú contextual para opciones adicionales -->
<p-menu #contextMenu [popup]="true" [model]="contextMenuItems()" [style]="{'min-width': '180px', 'max-width': '250px'}"
  [appendTo]="'body'" styleClass="context-menu-mobile" />